{% extends original_template %}
{% load hq_shared_tags %}
{% load i18n %}
{% load compress %}
{% if show_time_notice %}{% endif %}

{% block js %}
    <script src="{% static 'hqstyle/js/jquery/jquery-1.7.1.min.js' %}"></script>
    <script src="/static/hqstyle/js/core/bootstrap.min.js"></script>
    {{ block.super }}
{% endblock %}

{% block js-inline %}
    {{ block.super }}
    <script type="text/javascript">

        $(function() {

            function split($table, chunkSize) {
                var cols = $("th", $table).length - 1;
                var n = cols / chunkSize;

                $("<br/>").appendTo("body");
                var $newTable = $table.clone().appendTo("body");
                for (var i = chunkSize; i > 0; i--) {
                    $('td:nth-child('+i+'),th:nth-child('+i+')', $newTable).remove();
                }
                for (var i = cols; i > chunkSize; i--) {
                    $('td:nth-child('+i+'),th:nth-child('+i+')', $table).remove();
                }
            }

            document.body.style.zoom="55%"
            setTimeout(function() {
                split($("#report_table_health_status_report"), 8);
                $('.hq-loading').hide();
                window.print();
            }, 2000);
        })
    </script>
{% endblock %}

{% block reportcontent %}
    {% compress css %}
    <link type="text/less" rel="stylesheet" media="all" href="{{ STATIC_URL }}style/less/hqstyle-core.less"/>
    <style>
        @page {
            size: A4 landscape;
        }
        table{
            page-break-after: always;
        }
    </style>
    {% endcompress %}
{{ block.super }}
{% endblock %}

{% block modals %}
    <div class="hq-loading">
        <img src="/static/hqwebapp/img/ajax-loader.gif" alt="loading indicator">
        <h6>{% trans "Loading ..." %}</h6>
    </div>
{% endblock %}
